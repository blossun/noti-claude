#!/bin/bash

# Claude hooks ì œì–´ ìŠ¤í¬ë¦½íŠ¸
SETTINGS_FILE="$HOME/.claude/settings.json"

if ! [ -f "$SETTINGS_FILE" ]; then
    echo "âŒ ~/.claude/settings.json íŒŒì¼ì´ ì—†ìŠµë‹ˆë‹¤"
    exit 1
fi

case "$1" in
    "on")
        sed -i '' 's|# hooks disabled|uv run path/to/noti-claude/play_sound.py|g' "$SETTINGS_FILE"
        echo "ğŸ”Š Hooks í™œì„±í™”ë¨"
        ;;
    "off")
        sed -i '' 's|uv run path/to/noti-claude/play_sound.py|# hooks disabled|g' "$SETTINGS_FILE"
        echo "ğŸ”‡ Hooks ë¹„í™œì„±í™”ë¨"
        ;;
    *)
        echo "Usage: hooks [on|off]"
        echo ""
        echo "  hooks on   - Claude ì•Œë¦¼ìŒ í™œì„±í™”"
        echo "  hooks off  - Claude ì•Œë¦¼ìŒ ë¹„í™œì„±í™”"
        exit 1
        ;;
esac
